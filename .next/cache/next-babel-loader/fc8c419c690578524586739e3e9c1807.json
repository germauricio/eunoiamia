{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar __jsx = React.createElement;\nimport React, { useContext, useState, useCallback } from 'react';\nimport Link from '../Link';\nimport { CartContext, addToCart, decreaseQuantity, increaseQuantity } from '../../services/cartContext';\n\nvar Product = function Product(_ref) {\n  var product = _ref.product;\n\n  var _useContext = useContext(CartContext),\n      cartProvider = _useContext.cartProvider;\n\n  var _cartProvider = _slicedToArray(cartProvider, 2),\n      cart = _cartProvider[0],\n      setCart = _cartProvider[1];\n\n  var addToCart = function addToCart() {\n    var cartProduct = cart.find(function (item) {\n      return item.id == product.id;\n    });\n\n    if (cartProduct) {\n      cartProduct.quantity += 1;\n    } else {\n      var currProduct = {\n        description: product.description,\n        price: product.price,\n        quantity: 1,\n        image: product.image,\n        id: product.id\n      };\n      setCart(function (curr) {\n        return [].concat(_toConsumableArray(curr), [currProduct]);\n      });\n    }\n  };\n\n  return __jsx(\"div\", {\n    \"class\": \"product-card\"\n  }, __jsx(Link, {\n    path: \"/products/name/\".concat(product.name),\n    title: __jsx(\"div\", {\n      \"class\": \"product-tumb\"\n    }, __jsx(\"img\", {\n      src: \"/products/\".concat(product.image),\n      alt: product.name\n    })),\n    linkClass: \"product-a\"\n  }), __jsx(\"div\", {\n    className: \"product-details\"\n  }, __jsx(\"h4\", null, __jsx(Link, {\n    path: \"/products/name/\".concat(product.name),\n    linkClass: \"product-a\",\n    title: product.description\n  })), __jsx(\"div\", {\n    className: \"product-bottom-details\"\n  }, __jsx(\"div\", {\n    className: \"product-price\"\n  }, \"$\", product.price), __jsx(\"div\", {\n    className: \"product-links\"\n  }, __jsx(\"button\", {\n    className: \"addcart\",\n    onClick: function onClick(product) {\n      return addToCart(product);\n    }\n  }, __jsx(\"img\", {\n    src: \"/shop.ico\",\n    height: \"30px\",\n    alt: \"carrito\"\n  }))))));\n};\n\nexport default Product;","map":null,"metadata":{},"sourceType":"module"}