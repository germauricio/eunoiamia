{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useContext, useState, useCallback } from 'react';\nimport Link from '../Link';\nimport { CartContext, addToCart, decreaseQuantity, increaseQuantity } from '../../services/cartContext';\n\nvar Product = function Product(_ref) {\n  _s();\n\n  var product = _ref.product;\n\n  var _useContext = useContext(CartContext),\n      cartProvider = _useContext.cartProvider;\n\n  var _cartProvider = _slicedToArray(cartProvider, 2),\n      cart = _cartProvider[0],\n      setCart = _cartProvider[1];\n\n  var addToCart = function addToCart() {\n    var cartProduct = cart.find(function (item) {\n      return item.id == product.id;\n    });\n\n    if (cartProduct) {\n      cartProduct.quantity += 1;\n    } else {\n      var currProduct = {\n        description: product.description,\n        price: product.price,\n        quantity: 1,\n        image: product.image,\n        id: product.id\n      };\n      setCart(function (curr) {\n        return [].concat(_toConsumableArray(curr), [currProduct]);\n      });\n    }\n  };\n\n  return __jsx(\"div\", {\n    \"class\": \"product-card\"\n  }, __jsx(Link, {\n    path: \"/products/name/\".concat(product.name),\n    title: __jsx(\"div\", {\n      \"class\": \"product-tumb\"\n    }, __jsx(\"img\", {\n      src: \"/products/\".concat(product.image),\n      alt: product.name\n    })),\n    linkClass: \"product-a\"\n  }), __jsx(\"div\", {\n    className: \"product-details\"\n  }, __jsx(\"h4\", null, __jsx(Link, {\n    path: \"/products/name/\".concat(product.name),\n    linkClass: \"product-a\",\n    title: product.description\n  })), __jsx(\"div\", {\n    className: \"product-bottom-details\"\n  }, __jsx(\"div\", {\n    className: \"product-price\"\n  }, \"$\", product.price), __jsx(\"div\", {\n    className: \"product-links\"\n  }, __jsx(\"button\", {\n    className: \"addcart\",\n    onClick: function onClick(product) {\n      return addToCart(product);\n    }\n  }, __jsx(\"img\", {\n    src: \"/shop.ico\",\n    height: \"30px\",\n    alt: \"carrito\"\n  }))))));\n};\n\n_s(Product, \"vKewXMtd+GpRr4cnxXWVvJt9Pt8=\");\n\n_c = Product;\nexport default Product;\n\nvar _c;\n\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"sources":["/Users/mauriciopauluk/Documents/eunoiamia/components/products/Product.jsx"],"names":["React","useContext","useState","useCallback","Link","CartContext","addToCart","decreaseQuantity","increaseQuantity","Product","product","cartProvider","cart","setCart","cartProduct","find","item","id","quantity","currProduct","description","price","image","curr","name"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,EAAsCC,WAAtC,QAAyD,OAAzD;AACA,OAAOC,IAAP,MAAiB,SAAjB;AACA,SAASC,WAAT,EAAsBC,SAAtB,EAAiCC,gBAAjC,EAAmDC,gBAAnD,QAA2E,4BAA3E;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,OAAe;AAAA;;AAAA,MAAbC,OAAa,QAAbA,OAAa;;AAAA,oBACJT,UAAU,CAACI,WAAD,CADN;AAAA,MACpBM,YADoB,eACpBA,YADoB;;AAAA,qCAEHA,YAFG;AAAA,MAEpBC,IAFoB;AAAA,MAEdC,OAFc;;AAI3B,MAAMP,SAAS,GAAG,SAAZA,SAAY,GAAM;AACpB,QAAMQ,WAAW,GAAGF,IAAI,CAACG,IAAL,CAAU,UAAAC,IAAI;AAAA,aAAIA,IAAI,CAACC,EAAL,IAAWP,OAAO,CAACO,EAAvB;AAAA,KAAd,CAApB;;AACA,QAAGH,WAAH,EAAe;AACXA,MAAAA,WAAW,CAACI,QAAZ,IAAwB,CAAxB;AACH,KAFD,MAGI;AACJ,UAAMC,WAAW,GAAG;AAChBC,QAAAA,WAAW,EAAEV,OAAO,CAACU,WADL;AAEhBC,QAAAA,KAAK,EAAEX,OAAO,CAACW,KAFC;AAGhBH,QAAAA,QAAQ,EAAE,CAHM;AAIhBI,QAAAA,KAAK,EAAEZ,OAAO,CAACY,KAJC;AAKhBL,QAAAA,EAAE,EAAEP,OAAO,CAACO;AALI,OAApB;AAOIJ,MAAAA,OAAO,CAAC,UAAAU,IAAI;AAAA,4CAAQA,IAAR,IAAcJ,WAAd;AAAA,OAAL,CAAP;AACH;AACJ,GAfD;;AAiBA,SACI;AAAK,aAAM;AAAX,KACI,MAAC,IAAD;AACI,IAAA,IAAI,2BAAoBT,OAAO,CAACc,IAA5B,CADR;AAEI,IAAA,KAAK,EACD;AAAK,eAAM;AAAX,OACA;AAAK,MAAA,GAAG,sBAAed,OAAO,CAACY,KAAvB,CAAR;AAAwC,MAAA,GAAG,EAAEZ,OAAO,CAACc;AAArD,MADA,CAHR;AAMI,IAAA,SAAS,EAAE;AANf,IADJ,EASI;AAAK,IAAA,SAAS,EAAC;AAAf,KACI,kBAAI,MAAC,IAAD;AAAM,IAAA,IAAI,2BAAoBd,OAAO,CAACc,IAA5B,CAAV;AAA8C,IAAA,SAAS,EAAG,WAA1D;AAAsE,IAAA,KAAK,EAAEd,OAAO,CAACU;AAArF,IAAJ,CADJ,EAEI;AAAK,IAAA,SAAS,EAAC;AAAf,KACI;AAAK,IAAA,SAAS,EAAC;AAAf,UAAiCV,OAAO,CAACW,KAAzC,CADJ,EAEI;AAAK,IAAA,SAAS,EAAC;AAAf,KACI;AAAQ,IAAA,SAAS,EAAC,SAAlB;AAA4B,IAAA,OAAO,EAAG,iBAACX,OAAD;AAAA,aAAaJ,SAAS,CAACI,OAAD,CAAtB;AAAA;AAAtC,KACI;AAAK,IAAA,GAAG,EAAC,WAAT;AAAqB,IAAA,MAAM,EAAC,MAA5B;AAAmC,IAAA,GAAG,EAAC;AAAvC,IADJ,CADJ,CAFJ,CAFJ,CATJ,CADJ;AAuBH,CA5CD;;GAAMD,O;;KAAAA,O;AA8CN,eAAeA,OAAf","sourcesContent":["import React, { useContext, useState, useCallback } from 'react';\nimport Link from '../Link';\nimport { CartContext, addToCart, decreaseQuantity, increaseQuantity } from '../../services/cartContext';\n\nconst Product = ({product}) => {\n    const {cartProvider} = useContext(CartContext); \n    const [cart, setCart] = cartProvider;\n\n    const addToCart = () => {\n        const cartProduct = cart.find(item => item.id == product.id);\n        if(cartProduct){\n            cartProduct.quantity += 1;\n        }\n        else{\n        const currProduct = {\n            description: product.description,\n            price: product.price,\n            quantity: 1,\n            image: product.image,\n            id: product.id\n        }\n            setCart(curr => [...curr, currProduct]);\n        }\n    }\n    \n    return(\n        <div class=\"product-card\">\n            <Link \n                path={`/products/name/${product.name}`} \n                title={\n                    <div class=\"product-tumb\">\n                    <img src={`/products/${product.image}`} alt={product.name} />\n                </div>} \n                linkClass= \"product-a\"\n            />\n            <div className=\"product-details\">\n                <h4><Link path={`/products/name/${product.name}`} linkClass = \"product-a\" title={product.description}></Link></h4>\n                <div className=\"product-bottom-details\">\n                    <div className=\"product-price\">${product.price}</div>\n                    <div className=\"product-links\">\n                        <button className=\"addcart\" onClick={ (product) => addToCart(product)}>\n                            <img src=\"/shop.ico\" height=\"30px\" alt=\"carrito\"></img>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Product;"]},"metadata":{},"sourceType":"module"}